!function(e){function t(t){for(var a,c,l=t[0],i=t[1],s=t[2],m=0,f=[];m<l.length;m++)c=l[m],r[c]&&f.push(r[c][0]),r[c]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);for(u&&u(t);f.length;)f.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,l=1;l<n.length;l++){var i=n[l];0!==r[i]&&(a=!1)}a&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},r={0:0},o=[];function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var l=window.webpackJsonp=window.webpackJsonp||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var u=i;o.push([164,1]),n()}({155:function(e,t,n){},156:function(e,t,n){},158:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(15);n(171);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,s(t).apply(this,arguments))}var n,a,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,r.a.Component),n=t,(a=[{key:"render",value:function(){return r.a.createElement("div",{id:"front"},r.a.createElement("div",{className:"title"},tbot.name),r.a.createElement("div",{className:"items"},r.a.createElement("div",{className:"title"},"Twitch"),r.a.createElement(o.a,{to:"/twitch/dashboard",className:"item twitch"},"Dashboard"),r.a.createElement(o.a,{to:"/twitch/logviewer",className:"item twitch"},"Logviewer")),r.a.createElement("div",{className:"items"},r.a.createElement("div",{className:"title"},"Discord"),r.a.createElement("a",{className:"item discord"},"Dashboard"),r.a.createElement("a",{className:"item discord"},"Logviewer")))}}])&&l(n.prototype,a),c&&l(n,c),t}();t.a=m},160:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(15),c=n(3),l=n(159),i=n.n(l),s=n(1),u=n.n(s),m=n(4),f=n(5),d=n(13);n(155);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function b(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var w=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=y(t).call(this,e))||"object"!==p(r)&&"function"!=typeof r?v(a):r).state={users:[],value:n.props.defaultValue},n.fetchUsers=n.fetchUsers.bind(v(v(n))),n.stateChange=n.stateChange.bind(v(v(n))),n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,r.a.Component),n=t,(a=[{key:"fetchUsers",value:function(e){var t=this;e.target.value?c.a.get("/api/twitch/channels/".concat(this.props.channel_id,"/users"),{params:{suggest_name:e.target.value}}).then(function(e){t.setState({users:e.data})}):this.setState({users:[]})}},{key:"stateChange",value:function(e){switch(e.type){case d.a.stateChangeTypes.clickItem:case d.a.stateChangeTypes.changeInput:this.setState({value:e.selectedItem?e.selectedItem.name:e.inputValue});break;case d.a.stateChangeTypes.keyDownArrowUp:case d.a.stateChangeTypes.keyDownArrowDown:this.setState({value:this.state.users[e.highlightedIndex].name})}}},{key:"render",value:function(){var e=this;return r.a.createElement(d.a,{inputValue:this.state.value,onStateChange:this.stateChange,itemToString:function(e){return e?e.name:""}},function(t){t.getLabelProps;var n=t.getInputProps,a=(t.getToggleButtonProps,t.getMenuProps,t.getItemProps),o=t.isOpen,c=(t.clearSelection,t.selectedItem),l=(t.inputValue,t.highlightedIndex);return r.a.createElement("div",{className:"suggest-input"},r.a.createElement("input",n({name:"user",placeholder:"User",onChange:e.fetchUsers,className:"form-control"})),o&&e.state.users.length>0?r.a.createElement("div",{className:"suggest-container"},e.state.users.map(function(e,t){return r.a.createElement("div",h({className:"suggest-item"},a({key:t,index:t,item:e}),{style:{backgroundColor:l===t?"#505258":"#43464F",fontWeight:c===e?"bold":"normal"}}),e.name)})):null)})}}])&&b(n.prototype,a),o&&b(n,o),t}();n(198),n(156);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var C=function(e){function t(e){var n,a,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(a=!(o=_(t).call(this,e))||"object"!==E(o)&&"function"!=typeof o?N(r):o).query=i.a.parse(location.search),a.state=(O(n={channel:null,loading:!0,chatlog:[]},"loading",!0),O(n,"loadingChannel",!0),O(n,"userChatStats",null),O(n,"showLoadBefore",!1),O(n,"showLoadAfter",!0),O(n,"accessDenied",!1),n),a.loadBefore=a.loadBefore.bind(N(N(a))),a.loadAfter=a.loadAfter.bind(N(N(a))),a}var n,a,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,r.a.Component),n=t,(a=[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.channel;Object(m.c)("".concat(t," | Twitch Logviewer")),c.a.get("/api/twitch/channels",{params:{name:t}}).then(function(t){e.setState({channel:t.data[0],loadingChannel:!1},function(t){e.loadChatlog({before_id:e.query.before_id}),e.loadUserChatStats()})})}},{key:"loadChatlog",value:function(e){var t=this;this.setState({loading:!0}),e.user=this.query.user,e.message=this.query.message,e.show_mod_actions_only=this.query.show_mod_actions_only,c.a.get("/api/twitch/channels/".concat(this.state.channel.id,"/chatlog"),{params:e}).then(function(n){var a=t.state.chatlog;"after_id"in e?a.push.apply(a,j(n.data)):a.unshift.apply(a,j(n.data)),"after_id"in e?t.state.showLoadAfter=n.data.length==n.headers["x-per-page"]:(t.state.showLoadBefore=n.data.length==n.headers["x-per-page"],0!=t.state.showLoadAfter&&(t.state.showLoadAfter=t.query.before_id)),t.setState({loading:!1,chatlog:a})}).catch(function(e){403==e.response.status&&t.setState({accessDenied:!0})})}},{key:"loadBefore",value:function(e){e.preventDefault(),this.loadChatlog({before_id:this.state.chatlog[0].id})}},{key:"loadAfter",value:function(e){e.preventDefault(),this.loadChatlog({after_id:this.state.chatlog[this.state.chatlog.length-1].id})}},{key:"loadUserChatStats",value:function(){var e=this;this.setState({userChatStats:null,loading:!0}),this.query.user&&c.a.get("/api/twitch/channels/".concat(this.state.channel.id,"/user-chatstats"),{params:{user:this.query.user}}).then(function(t){e.setState({userChatStats:t.data,loading:!1})})}},{key:"renderChatlog",value:function(){var e=this;return 0==this.state.chatlog.length?this.state.loading?r.a.createElement(f.a,{text:"LOADING"}):r.a.createElement("div",{className:"m-2"},r.a.createElement("center",null,"No results found")):r.a.createElement("table",{className:"chatlog table table-dark table-striped table-sm table-hover"},r.a.createElement("tbody",null,this.state.showLoadBefore?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"3",style:{textAlign:"center"}},this.state.loading?r.a.createElement("div",{class:"spinner-grow text-primary",role:"status"}):r.a.createElement("a",{href:"#",onClick:this.loadBefore},"Load more"))):null,this.state.chatlog.map(function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",{width:"10px",dateTime:t.created_at,style:{whiteSpace:"nowrap"}},r.a.createElement("a",{href:"?before_id=".concat(t.id+1)},e.iso8601toLocalTime(t.created_at))),r.a.createElement("td",{width:"10px"},r.a.createElement("a",{href:"?user=".concat(t.user)},t.user)),r.a.createElement("td",null,e.renderTypeSymbol(t),t.message))}),this.state.showLoadAfter?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"3",style:{textAlign:"center"}},this.state.loading?r.a.createElement("div",{class:"spinner-grow text-primary",role:"status"}):r.a.createElement("a",{href:"#",onClick:this.loadAfter},"Load more"))):null))}},{key:"renderTypeSymbol",value:function(e){switch(e.type){case 2:return r.a.createElement("span",{className:"badge badge-danger"},"B");case 3:return r.a.createElement("span",{className:"badge badge-warning"},"T");case 4:return r.a.createElement("span",{className:"badge badge-info"},"P");case 100:return r.a.createElement("span",{className:"badge badge-success"},"M");default:return null}}},{key:"iso8601toLocalTime",value:function(e){return u()(e).format("YYYY-MM-DD HH:mm:ss")}},{key:"renderUserStats",value:function(){return null==this.state.userChatStats?null:r.a.createElement("div",{className:"userChatStats"},r.a.createElement("span",null,r.a.createElement("b",null,"Total messages:")," ",this.state.userChatStats.chat_messages||0),r.a.createElement("span",null,r.a.createElement("b",null,"Purges:")," ",this.state.userChatStats.purges||0),r.a.createElement("span",null,r.a.createElement("b",null,"Timeouts:")," ",this.state.userChatStats.timeouts||0),r.a.createElement("span",null,r.a.createElement("b",null,"Bans:")," ",this.state.userChatStats.bans||0))}},{key:"renderAccessDenied",value:function(){return r.a.createElement("div",{className:"access-denied"},"Sorry,",r.a.createElement("br",null),"you must be a moderator to view the chatlog of this channel")}},{key:"render",value:function(){return this.state.loadingChannel?r.a.createElement(f.a,{text:"LOADING"}):this.state.accessDenied?this.renderAccessDenied():r.a.createElement("div",{id:"logviewer"},r.a.createElement("div",{id:"topbar",style:{border:"none",borderBottom:"1px solid #000",paddingLeft:"0.5rem"}},r.a.createElement("div",{className:"title",id:"top-title"},r.a.createElement(o.a,{to:"/twitch/logviewer",className:"text-white"},r.a.createElement("i",{className:"material-icons material-inline "},"arrow_back"))," Logviewer for ",this.state.channel.name),tbot.twitch_user?r.a.createElement("div",{className:"signed-as"},"Signed in as ",r.a.createElement("b",null,tbot.twitch_user.user),", ",r.a.createElement("a",{href:"/twitch/logout"},"log out")):null),r.a.createElement("div",{className:"sticky-top"},r.a.createElement("div",{className:"filter"},r.a.createElement("form",{className:"form-inline"},r.a.createElement(w,{defaultValue:this.query.user,channel_id:this.state.channel.id}),r.a.createElement("input",{name:"message",type:"text",className:"form-control",placeholder:"Message",defaultValue:this.query.message}),r.a.createElement("button",{type:"submit",className:"btn btn-warning"},"Search"),r.a.createElement("input",{type:"checkbox",value:"yes",name:"show_mod_actions_only",className:"form-check-input",id:"show_mod_actions_only",defaultChecked:"yes"==this.query.show_mod_actions_only}),r.a.createElement("label",{className:"form-check-label",htmlFor:"show_mod_actions_only"},"Show only mod actions"))),this.renderUserStats()),this.renderChatlog())}}])&&S(n.prototype,a),l&&S(n,l),t}();t.a=C},161:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(15),c=n(3),l=n(6),i=n(4),s=n(13);n(155);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var b=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=d(t).call(this,e))||"object"!==u(r)&&"function"!=typeof r?h(a):r).state={channels:[]},n.fetch=n.fetch.bind(h(h(n))),n.selected=n.selected.bind(h(h(n))),n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r.a.Component),n=t,(a=[{key:"fetch",value:function(e){var t=this;e.target.value?c.a.get("/api/twitch/channels",{params:{suggest_name:e.target.value}}).then(function(e){t.setState({channels:e.data})}):this.setState({channels:[]})}},{key:"selected",value:function(e){location.href="/twitch/logviewer/"+e.name}},{key:"render",value:function(){var e=this;return r.a.createElement(s.a,{itemToString:function(e){return e?e.name:""},onChange:this.selected},function(t){t.getLabelProps;var n=t.getInputProps,a=(t.getToggleButtonProps,t.getMenuProps,t.getItemProps),o=t.isOpen,c=(t.clearSelection,t.selectedItem),l=(t.inputValue,t.highlightedIndex);return r.a.createElement("div",{className:"suggest-input"},r.a.createElement("input",n({name:"channel",placeholder:"Channel search",onChange:e.fetch,className:"form-control"})),o&&e.state.channels.length>0?r.a.createElement("div",{className:"suggest-container"},e.state.channels.map(function(e,t){return r.a.createElement("div",m({className:"suggest-item"},a({key:t,index:t,item:e}),{style:{backgroundColor:l===t?"#505258":"#43464F",fontWeight:c===e?"bold":"normal"}}),e.name)})):null)})}}])&&f(n.prototype,a),o&&f(n,o),t}();function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var j=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=v(t).call(this,e))||"object"!==y(r)&&"function"!=typeof r?E(a):r).state={modOf:[]},Object(i.c)("Twitch Logviewer"),n.twitchLoginClick=n.twitchLoginClick.bind(E(E(n))),n}var n,a,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,r.a.Component),n=t,(a=[{key:"twitchLoginClick",value:function(){Object(l.c)()}},{key:"componentDidMount",value:function(){var e=this;c.a.get("/api/twitch/user/mod-of").then(function(t){e.setState({modOf:t.data})})}},{key:"renderModOf",value:function(){return Object(l.b)()?r.a.createElement("div",{className:"mod-of"},this.state.modOf.map(function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(o.a,{to:"/twitch/logviewer/".concat(e.name)},e.name))})):null}},{key:"renderLoginButton",value:function(){return Object(l.b)()?null:r.a.createElement("center",null,r.a.createElement("button",{className:"btn btn-primary",onClick:this.twitchLoginClick},"Login with Twitch"))}},{key:"render",value:function(){return r.a.createElement("div",{id:"select-channels"},r.a.createElement("div",{className:"text-center"},r.a.createElement(o.a,{to:"/"},tbot.name)),r.a.createElement("h1",null,"Twitch Logviewer"),r.a.createElement("div",{className:"suggest-channel"},r.a.createElement(b,null)),this.renderModOf(),this.renderLoginButton())}}])&&g(n.prototype,a),s&&g(n,s),t}();t.a=j},162:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(14),c=n(4),l=n(3),i=n(5);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function m(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=m(this,f(t).call(this,e))).state={commands:[],loading:!0},n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r.a.Component),n=t,(a=[{key:"componentDidMount",value:function(){this.getCommands(),document.title="".concat(managedUser.name," - Commands | ").concat(tbot.name)}},{key:"getCommands",value:function(){var e=this;l.a.get("/api/twitch/channels/".concat(managedUser.id,"/commands-public")).then(function(t){e.setState({commands:t.data,loading:!1})})}},{key:"userLevelName",value:function(e){switch(e){case 0:return"";case 1:return"Subscribers";case 2:return"VIPs";case 7:return"Mods";case 8:return"Admins";case 9:return"Boradcaster"}}},{key:"render",value:function(){var e=this;if(this.state.loading)return r.a.createElement(i.a,null);var t=[],n=!0,a=!1,o=void 0;try{for(var c,l=this.state.commands[Symbol.iterator]();!(n=(c=l.next()).done);n=!0){var s=c.value;s.user_level in t||t.push(s.user_level)}}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r.a.createElement("div",null,r.a.createElement("div",{className:"header mt-4"},r.a.createElement("h1",{style:{fontSize:"26px"}},managedUser.name," - Commands")),t.map(function(t){return r.a.createElement("div",{key:"level"+t,className:"mt-4"},r.a.createElement("h4",null,e.userLevelName(t)),r.a.createElement("table",{className:"table table-dark"},r.a.createElement("tbody",null,e.state.commands.map(function(e){return e.user_level!=t?null:r.a.createElement("tr",{key:e.id},r.a.createElement("td",{width:"200px"},"!",e.cmd),r.a.createElement("td",null,e.response))}))))}))}}])&&u(n.prototype,a),o&&u(n,o),t}();function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function v(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=b(this,y(t).call(this,e))).state={loading:!0,errors:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,r.a.Component),v(t,[{key:"render",value:function(){return this.state.loading?(this.getChannel(),r.a.createElement(i.a,{text:"LOADING"})):this.state.error?r.a.createElement("div",{className:"mt-5 ml-auto mr-auto",style:{width:"600px"}},Object(c.a)(this.state.error)):r.a.createElement("div",{className:"container"},r.a.createElement(o.a,{exact:!0,path:"/t/:channel/commands",component:p}))}}]),v(t,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"getChannel",value:function(){var e=this;window.managedUser=null,l.a.get("/api/twitch/channel/".concat(this.props.match.params.channel)).then(function(t){window.managedUser=t.data,e.setState({loading:!1})}).catch(function(t){e.setState({loading:!1,error:t.response.data})})}}]),t}();t.a=E},164:function(e,t,n){"use strict";n.r(t),function(e){var t=n(157),a=n.n(t),r=n(202),o=n(203),c=n(14),l=n(158),i=n(160),s=n(161),u=n(21),m=n(162);n(201);a.a.render(e.createElement(r.a,null,e.createElement(o.a,null,e.createElement(c.a,{exact:!0,path:"/",component:l.a}),e.createElement(c.a,{exact:!0,path:"/twitch/logviewer",component:s.a}),e.createElement(c.a,{exact:!0,path:"/twitch/logviewer/:channel",component:i.a}),e.createElement(c.a,{path:"/t/:channel",component:m.a}),e.createElement(c.a,{path:"/twitch/dashboard",component:u.a}),e.createElement(c.a,{path:"/twitch/:channel",component:u.a}))),document.getElementById("root"))}.call(this,n(0))},171:function(e,t,n){},196:function(e,t,n){var a={"./af":28,"./af.js":28,"./ar":29,"./ar-dz":30,"./ar-dz.js":30,"./ar-kw":31,"./ar-kw.js":31,"./ar-ly":32,"./ar-ly.js":32,"./ar-ma":33,"./ar-ma.js":33,"./ar-sa":34,"./ar-sa.js":34,"./ar-tn":35,"./ar-tn.js":35,"./ar.js":29,"./az":36,"./az.js":36,"./be":37,"./be.js":37,"./bg":38,"./bg.js":38,"./bm":39,"./bm.js":39,"./bn":40,"./bn.js":40,"./bo":41,"./bo.js":41,"./br":42,"./br.js":42,"./bs":43,"./bs.js":43,"./ca":44,"./ca.js":44,"./cs":45,"./cs.js":45,"./cv":46,"./cv.js":46,"./cy":47,"./cy.js":47,"./da":48,"./da.js":48,"./de":49,"./de-at":50,"./de-at.js":50,"./de-ch":51,"./de-ch.js":51,"./de.js":49,"./dv":52,"./dv.js":52,"./el":53,"./el.js":53,"./en-SG":54,"./en-SG.js":54,"./en-au":55,"./en-au.js":55,"./en-ca":56,"./en-ca.js":56,"./en-gb":57,"./en-gb.js":57,"./en-ie":58,"./en-ie.js":58,"./en-il":59,"./en-il.js":59,"./en-nz":60,"./en-nz.js":60,"./eo":61,"./eo.js":61,"./es":62,"./es-do":63,"./es-do.js":63,"./es-us":64,"./es-us.js":64,"./es.js":62,"./et":65,"./et.js":65,"./eu":66,"./eu.js":66,"./fa":67,"./fa.js":67,"./fi":68,"./fi.js":68,"./fo":69,"./fo.js":69,"./fr":70,"./fr-ca":71,"./fr-ca.js":71,"./fr-ch":72,"./fr-ch.js":72,"./fr.js":70,"./fy":73,"./fy.js":73,"./ga":74,"./ga.js":74,"./gd":75,"./gd.js":75,"./gl":76,"./gl.js":76,"./gom-latn":77,"./gom-latn.js":77,"./gu":78,"./gu.js":78,"./he":79,"./he.js":79,"./hi":80,"./hi.js":80,"./hr":81,"./hr.js":81,"./hu":82,"./hu.js":82,"./hy-am":83,"./hy-am.js":83,"./id":84,"./id.js":84,"./is":85,"./is.js":85,"./it":86,"./it-ch":87,"./it-ch.js":87,"./it.js":86,"./ja":88,"./ja.js":88,"./jv":89,"./jv.js":89,"./ka":90,"./ka.js":90,"./kk":91,"./kk.js":91,"./km":92,"./km.js":92,"./kn":93,"./kn.js":93,"./ko":94,"./ko.js":94,"./ku":95,"./ku.js":95,"./ky":96,"./ky.js":96,"./lb":97,"./lb.js":97,"./lo":98,"./lo.js":98,"./lt":99,"./lt.js":99,"./lv":100,"./lv.js":100,"./me":101,"./me.js":101,"./mi":102,"./mi.js":102,"./mk":103,"./mk.js":103,"./ml":104,"./ml.js":104,"./mn":105,"./mn.js":105,"./mr":106,"./mr.js":106,"./ms":107,"./ms-my":108,"./ms-my.js":108,"./ms.js":107,"./mt":109,"./mt.js":109,"./my":110,"./my.js":110,"./nb":111,"./nb.js":111,"./ne":112,"./ne.js":112,"./nl":113,"./nl-be":114,"./nl-be.js":114,"./nl.js":113,"./nn":115,"./nn.js":115,"./pa-in":116,"./pa-in.js":116,"./pl":117,"./pl.js":117,"./pt":118,"./pt-br":119,"./pt-br.js":119,"./pt.js":118,"./ro":120,"./ro.js":120,"./ru":121,"./ru.js":121,"./sd":122,"./sd.js":122,"./se":123,"./se.js":123,"./si":124,"./si.js":124,"./sk":125,"./sk.js":125,"./sl":126,"./sl.js":126,"./sq":127,"./sq.js":127,"./sr":128,"./sr-cyrl":129,"./sr-cyrl.js":129,"./sr.js":128,"./ss":130,"./ss.js":130,"./sv":131,"./sv.js":131,"./sw":132,"./sw.js":132,"./ta":133,"./ta.js":133,"./te":134,"./te.js":134,"./tet":135,"./tet.js":135,"./tg":136,"./tg.js":136,"./th":137,"./th.js":137,"./tl-ph":138,"./tl-ph.js":138,"./tlh":139,"./tlh.js":139,"./tr":140,"./tr.js":140,"./tzl":141,"./tzl.js":141,"./tzm":142,"./tzm-latn":143,"./tzm-latn.js":143,"./tzm.js":142,"./ug-cn":144,"./ug-cn.js":144,"./uk":145,"./uk.js":145,"./ur":146,"./ur.js":146,"./uz":147,"./uz-latn":148,"./uz-latn.js":148,"./uz.js":147,"./vi":149,"./vi.js":149,"./x-pseudo":150,"./x-pseudo.js":150,"./yo":151,"./yo.js":151,"./zh-cn":152,"./zh-cn.js":152,"./zh-hk":153,"./zh-hk.js":153,"./zh-tw":154,"./zh-tw.js":154};function r(e){var t=o(e);return n(t)}function o(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=196},198:function(e,t,n){},199:function(e,t,n){},201:function(e,t,n){},21:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(205),c=n(14),l=n(6),i=n(4),s=n(3),u=n(5),m=n(204);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function p(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=p(this,h(t).call(this,e))).state={channels:[],loading:!0},n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,r.a.Component),n=t,(a=[{key:"componentDidMount",value:function(){this.getChannels()}},{key:"getChannels",value:function(e){var t=this;s.a.get("/api/twitch/user/admin-of",{params:{suggest_name:e}}).then(function(e){t.setState({channels:e.data,loading:!1})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"modal",tabIndex:"-1",role:"dialog"},r.a.createElement("div",{className:"modal-dialog",role:"document",style:{margin:0,marginTop:"3.2rem",width:"350px"}},r.a.createElement("div",{className:"modal-content",style:{borderRadius:0}},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title"},"Channels you manage"),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",title:"Close",onClick:this.props.onClose},r.a.createElement("span",{"aria-hidden":"true"},"Ã—"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",null,r.a.createElement("input",{className:"form-control",placeholder:"Search channel",onChange:function(t){e.getChannels(t.target.value)}})),r.a.createElement("div",{className:"mt-2",style:{fontSize:"26px"}},0===this.state.channels.length?r.a.createElement("div",null,"No channels found"):this.state.channels.map(function(e){return r.a.createElement("div",{key:e.id,className:"clickable"},r.a.createElement("a",{href:"/twitch/".concat(e.name,"/dashboard")},e.name))}))))))}}])&&d(n.prototype,a),o&&d(n,o),t}();n(199);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=w(t).call(this,e),n=!r||"object"!==g(r)&&"function"!=typeof r?j(a):r,O(j(j(n)),"onClose",function(){n.setState({showSelectChannel:!1})}),O(j(j(n)),"selectChannelClick",function(e){n.setState({showSelectChannel:!0})}),n.state={showSelectChannel:!1},n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,r.a.Component),n=t,(a=[{key:"renderConnect",value:function(){return managedUser.level<4?null:r.a.createElement("span",null,r.a.createElement("div",{className:"title"},"CONNECT"),r.a.createElement(m.a,{to:"/twitch/".concat(managedUser.name,"/spotify"),activeClassName:"active"},"Spotify"),r.a.createElement(m.a,{to:"/twitch/".concat(managedUser.name,"/discord"),activeClassName:"active"},"Discord"))}},{key:"render",value:function(){return r.a.createElement("div",{id:"sidebar",className:"sticky-top"},r.a.createElement("div",{className:"d-flex",id:"managed-user",title:"Click to change channel",onClick:this.selectChannelClick},r.a.createElement("div",{className:"menuicon"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement("div",{className:"user"},managedUser.name),r.a.createElement("div",{className:"menuicon ml-auto"},r.a.createElement("i",{className:"material-icons"},"arrow_drop_down"))),r.a.createElement("div",{id:"items"},managedUser.level>=3?r.a.createElement(m.a,{to:"/twitch/".concat(managedUser.name,"/dashboard"),activeClassName:"active"},"Dashboard"):null,r.a.createElement(m.a,{to:"/twitch/".concat(managedUser.name,"/commands"),activeClassName:"active"},"Commands"),managedUser.level>=3?r.a.createElement(m.a,{to:"/twitch/".concat(managedUser.name,"/admins"),activeClassName:"active"},"Admins"):null,this.renderConnect(),r.a.createElement("div",{className:"title"},"LINKS"),r.a.createElement(m.a,{to:"/twitch/logviewer/".concat(managedUser.name)},"Logviewer")),this.state.showSelectChannel?r.a.createElement(y,{onClose:this.onClose}):null)}}])&&v(n.prototype,a),o&&v(n,o),t}();n(156);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function N(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var x=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),N(this,C(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(t,r.a.Component),n=t,(a=[{key:"render",value:function(){return r.a.createElement("div",{id:"topbar",className:"sticky-top"},r.a.createElement("div",{className:"title",id:"top-title"}),r.a.createElement("div",{className:"signed-as"},"Signed in as ",r.a.createElement("b",null,tbot.twitch_user.user),", ",r.a.createElement("a",{href:"/twitch/logout"},"log out")))}}])&&k(n.prototype,a),o&&k(n,o),t}(),T=n(163);function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=A(t).call(this,e),n=!r||"object"!==U(r)&&"function"!=typeof r?M(a):r,z(M(M(n)),"joinClick",function(){s.a.post("/api/twitch/channels/".concat(managedUser.id,"/bot-join")).then(function(e){n.getSettings()})}),z(M(M(n)),"partClick",function(){s.a.delete("/api/twitch/channels/".concat(managedUser.id,"/bot-join")).then(function(e){n.getSettings()})}),z(M(M(n)),"muteClick",function(){s.a.post("/api/twitch/channels/".concat(managedUser.id,"/bot-mute")).then(function(e){n.getSettings()})}),z(M(M(n)),"unmuteClick",function(){s.a.delete("/api/twitch/channels/".concat(managedUser.id,"/bot-mute")).then(function(e){n.getSettings()})}),z(M(M(n)),"enableChatlogClick",function(){s.a.post("/api/twitch/channels/".concat(managedUser.id,"/bot-enable-chatlog")).then(function(e){n.getSettings()})}),z(M(M(n)),"disableChatlogClick",function(){s.a.delete("/api/twitch/channels/".concat(managedUser.id,"/bot-enable-chatlog")).then(function(e){n.getSettings()})}),n.state={settings:null},n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,r.a.Component),n=t,(a=[{key:"componentDidMount",value:function(){this.getSettings()}},{key:"getSettings",value:function(){var e=this;s.a.get("/api/twitch/channels/".concat(managedUser.id,"/bot-settings")).then(function(t){e.setState({settings:t.data})})}},{key:"render",value:function(){return this.state.settings?r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"title"},"Bot Controls"),r.a.createElement("div",{className:"buttons"},this.state.settings.active?null:r.a.createElement("button",{className:"btn btn-success",onClick:this.joinClick},"Join channel"),this.state.settings.active?r.a.createElement("button",{className:"btn btn-danger",onClick:this.partClick},"Part channel"):null,this.state.settings.muted?null:r.a.createElement("button",{className:"btn btn-secondary",onClick:this.muteClick},"Mute bot"),this.state.settings.muted?r.a.createElement("button",{className:"btn btn-secondary",onClick:this.unmuteClick},"Unmute bot"):null,this.state.settings.chatlog_enabled?null:r.a.createElement("button",{className:"btn btn-secondary",onClick:this.enableChatlogClick},"Enable chatlog"),this.state.settings.chatlog_enabled?r.a.createElement("button",{className:"btn btn-secondary",onClick:this.disableChatlogClick},"Disable chatlog"):null)):null}}])&&D(n.prototype,a),o&&D(n,o),t}();function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function q(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var V=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=q(this,F(t).call(this,e))).state={loading:!0,data:null},n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,r.a.Component),n=t,(a=[{key:"componentDidMount",value:function(){this.getData()}},{key:"getData",value:function(){var e=this;s.a.get("/api/twitch/channels/".concat(managedUser.id,"/check-extra-auth")).then(function(t){e.setState({data:t.data,loading:!1})})}},{key:"render",value:function(){return console.log(this.state.loading),this.state.loading?null:this.state.data.has_extra_auth?null:r.a.createElement("div",{className:"box mr-3",style:{width:"400px"}},r.a.createElement("div",{className:"title"},"Extra authorization"),r.a.createElement("div",{className:"content"},"For the bot to be able to change title, game category and read subscribers, extra authorization is needed.",r.a.createElement("div",{className:"d-flex mt-3 mb-3"},r.a.createElement("div",{className:"ml-auto mr-auto"},r.a.createElement("a",{href:"/twitch/login?request_extra_auth=true",className:"btn btn-success"},"Grant extra authorization")))))}}])&&B(n.prototype,a),o&&B(n,o),t}();function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function W(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Q=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),W(this,H(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(t,r.a.Component),n=t,(a=[{key:"componentDidMount",value:function(){Object(i.b)("Dashboard")}},{key:"render",value:function(){return managedUser.level<3?r.a.createElement(T.a,{to:"/twitch/".concat(managedUser.name,"/commands")}):r.a.createElement("div",{className:"d-flex"},r.a.createElement(V,null),r.a.createElement("div",{style:{width:"200px"}},r.a.createElement(I,null)))}}])&&Y(n.prototype,a),o&&Y(n,o),t}(),X=n(15);function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ee(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ae=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ee(this,te(t).call(this,e))).state={commands:[],loading:!0},n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(t,r.a.Component),n=t,(a=[{key:"componentDidMount",value:function(){Object(i.b)("Commands"),this.getCommands()}},{key:"getCommands",value:function(){var e=this;s.a.get("/api/twitch/channels/".concat(managedUser.id,"/commands")).then(function(t){e.setState({commands:t.data,loading:!1})})}},{key:"render",value:function(){return this.state.loading?r.a.createElement(u.a,null):r.a.createElement("div",null,r.a.createElement("div",{className:"d-flex mb-2"},r.a.createElement("div",null,r.a.createElement(X.a,{className:"btn btn-primary",to:"commands/new"},"New command")),r.a.createElement("div",{className:"ml-auto"},r.a.createElement("a",{href:"/t/".concat(managedUser.name,"/commands"),target:"_blank",className:"btn btn-link"},"Public commands"))),r.a.createElement("table",{className:"table table-dark table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{width:"100px"},"Command"),r.a.createElement("th",null,"Response"),r.a.createElement("th",{width:"5px",title:"Global cooldown"},"GCD"),r.a.createElement("th",{width:"5px",title:"User cooldown"},"UCD"),r.a.createElement("th",{width:"100px",title:"User level"},"UL"),r.a.createElement("th",{width:"5px",title:"Enabled when stream is"},"ES"),r.a.createElement("th",{width:"5px",title:"Enabled"},"E"),r.a.createElement("th",{width:"5px"}))),r.a.createElement("tbody",null,this.state.commands.map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,"!",e.cmd),r.a.createElement("td",{className:"td-ellipsis"},e.response),r.a.createElement("td",null,e.global_cooldown),r.a.createElement("td",null,e.user_cooldown),r.a.createElement("td",null,Object(l.d)(e.user_level)),r.a.createElement("td",null,Object(l.a)(e.enabled_status)),r.a.createElement("td",null,1==e.enabled?"Yes":"No"),r.a.createElement("td",{className:"text-right"},r.a.createElement(X.a,{to:"commands/edit/".concat(e.id)},"Edit")))}))))}}])&&$(n.prototype,a),o&&$(n,o),t}();function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ue=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=ce(t).call(this,e),n=!r||"object"!==re(r)&&"function"!=typeof r?ie(a):r,se(ie(ie(n)),"handleEvent",function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;n.state.cmd[e.target.name]=t,n.setState({cmd:n.state.cmd})}),se(ie(ie(n)),"handleSubmit",function(e){e.preventDefault(),n.setState({saving:!0,error:null});var t=n.props.match.params.id;t?s.a.put("/api/twitch/channels/".concat(managedUser.id,"/commands/").concat(t),n.state.cmd).then(function(e){n.setState({success:!0})}).catch(function(e){n.setState({error:e.response.data,saving:!1})}):s.a.post("/api/twitch/channels/".concat(managedUser.id,"/commands"),n.state.cmd).then(function(e){n.setState({success:!0})}).catch(function(e){n.setState({error:e.response.data,saving:!1})})}),se(ie(ie(n)),"handleDelete",function(){if(confirm("Delete command: ".concat(n.state.cmd.cmd,"?"))){n.setState({deleting:!0,error:null});var e=n.props.match.params.id;s.a.delete("/api/twitch/channels/".concat(managedUser.id,"/commands/").concat(e)).then(function(e){n.setState({cmd:e.data,success:!0})}).catch(function(e){n.setState({error:e.response.data,deleting:!1})})}}),se(ie(ie(n)),"handleTemplate",function(e){var t=!0,a=!1,r=void 0;try{for(var o,c=n.state.templates[Symbol.iterator]();!(t=(o=c.next()).done);t=!0){var l=o.value;if(l.cmd==e.target.value){var i=JSON.parse(JSON.stringify(l));for(var s in i)s in n.state.cmd||delete i[s];n.setState({cmd:i})}}}catch(e){a=!0,r=e}finally{try{t||null==c.return||c.return()}finally{if(a)throw r}}}),n.state={cmd:{cmd:"",response:"",user_level:0,enabled_status:0,global_cooldown:5,user_cooldown:15,mod_cooldown:0,enabled:1,public:1},templates:[],loading:!0,error:null,saving:!1,success:!1},n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(t,r.a.Component),n=t,(a=[{key:"componentDidMount",value:function(){this.props.match.params.id?(Object(i.b)("Edit command"),this.getCommand()):(Object(i.b)("New command"),this.getTemplates(),this.setState({loading:!1}))}},{key:"getCommand",value:function(){var e=this,t=this.props.match.params.id;s.a.get("/api/twitch/channels/".concat(managedUser.id,"/commands/").concat(t)).then(function(t){for(var n in t.data)n in e.state.cmd||delete t.data[n];e.setState({cmd:t.data,loading:!1}),Object(i.b)("Edit command: !".concat(t.data.cmd))})}},{key:"getTemplates",value:function(){var e=this;this.props.match.params.id;s.a.get("/api/twitch/template-commands").then(function(t){e.setState({templates:t.data})})}},{key:"renderButton",value:function(){return this.state.saving?r.a.createElement("button",{className:"btn btn-primary",type:"button",disabled:!0},r.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"})," Saving..."):r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Save command")}},{key:"renderDeleteButton",value:function(){return this.props.match.params.id?this.state.deleting?r.a.createElement("button",{className:"ml-2 btn btn-danger",type:"button",disabled:!0},r.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"})," Deleting..."):r.a.createElement("button",{type:"button",onClick:this.handleDelete,className:"ml-2 btn btn-danger"},"Delete command"):null}},{key:"renderTemplates",value:function(){return 0===this.state.templates.length?null:r.a.createElement("div",{className:"mb-4"},r.a.createElement("label",null,"Templates"),r.a.createElement("select",{className:"form-control",onChange:this.handleTemplate},r.a.createElement("option",{value:""}),this.state.templates.map(function(e){return r.a.createElement("option",{key:e.cmd,value:e.cmd},e.title)})))}},{key:"render",value:function(){return this.state.loading?r.a.createElement(u.a,null):this.state.success?r.a.createElement(T.a,{to:"/twitch/".concat(this.props.match.params.channel,"/commands")}):r.a.createElement("div",{style:{maxWidth:"960px"}},this.renderTemplates(),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"cmd"},"Command"),r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},"!")),r.a.createElement("input",{className:"form-control",id:"cmd",name:"cmd",value:this.state.cmd.cmd,onChange:this.handleEvent,autoFocus:!0,required:!0}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"response"},"Response (",r.a.createElement("a",{href:"https://docs.botashell.com",target:"_blank"},"Variables documentation"),")"),r.a.createElement("input",{className:"form-control",id:"response",name:"response",value:this.state.cmd.response,onChange:this.handleEvent,required:!0})),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"user_level"},"User level"),r.a.createElement("select",{type:"text",className:"form-control",id:"user_level",name:"user_level",value:this.state.cmd.user_level,onChange:this.handleEvent},r.a.createElement("option",{value:"0"},Object(l.d)(0)),r.a.createElement("option",{value:"1"},Object(l.d)(1)),r.a.createElement("option",{value:"2"},Object(l.d)(2)),r.a.createElement("option",{value:"7"},Object(l.d)(7)),r.a.createElement("option",{value:"8"},Object(l.d)(8)),r.a.createElement("option",{value:"9"},Object(l.d)(9)))),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"enabled_status"},"Enabled when stream is"),r.a.createElement("select",{type:"text",className:"form-control",id:"enabled_status",name:"enabled_status",value:this.state.cmd.enabled_status,onChange:this.handleEvent},r.a.createElement("option",{value:"0"},Object(l.a)(0)),r.a.createElement("option",{value:"1"},Object(l.a)(1)),r.a.createElement("option",{value:"2"},Object(l.a)(2))))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"global_cooldown"},"Global cooldown"),r.a.createElement("input",{id:"global_cooldown",type:"number",className:"form-control",name:"global_cooldown",value:this.state.cmd.global_cooldown,onChange:this.handleEvent})),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"user_cooldown"},"User cooldown"),r.a.createElement("input",{id:"user_cooldown",type:"number",className:"form-control",name:"user_cooldown",value:this.state.cmd.user_cooldown,onChange:this.handleEvent})),r.a.createElement("div",{className:"form-group col-md-4"},r.a.createElement("label",{htmlFor:"mod_cooldown"},"Mod cooldown"),r.a.createElement("input",{id:"mod_cooldown",type:"number",className:"form-control",name:"mod_cooldown",value:this.state.cmd.mod_cooldown,onChange:this.handleEvent}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"custom-control custom-checkbox"},r.a.createElement("input",{name:"enabled",type:"checkbox",className:"custom-control-input",id:"enabled",checked:this.state.cmd.enabled,onChange:this.handleEvent}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"enabled"},"Enabled"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"custom-control custom-checkbox"},r.a.createElement("input",{name:"public",type:"checkbox",className:"custom-control-input",id:"public",checked:this.state.cmd.public,onChange:this.handleEvent}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"public"},"Public (show it on the command list page)"))),Object(i.a)(this.state.error),this.renderButton(),this.renderDeleteButton()))}}])&&oe(n.prototype,a),o&&oe(n,o),t}();function me(e){return(me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function he(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ye=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=de(t).call(this,e),n=!r||"object"!==me(r)&&"function"!=typeof r?he(a):r,be(he(he(n)),"handleSubmit",function(){n.setState({connecting:!0})}),be(he(he(n)),"handleDelete",function(e){e.preventDefault(),n.setState({deleting:!0}),s.a.delete("/api/twitch/channels/".concat(managedUser.id,"/spotify")).then(function(e){n.setState({spotify:{},deleting:!1})})}),n.state={loading:!0,spotify:{},connecting:!1,deleting:!1},n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}(t,r.a.Component),n=t,(a=[{key:"componentDidMount",value:function(){Object(i.b)("Spotify"),this.getStatus()}},{key:"getStatus",value:function(){var e=this;this.setState({loading:!0}),s.a.get("/api/twitch/channels/".concat(managedUser.id,"/spotify")).then(function(t){e.setState({spotify:t.data,loading:!1})})}},{key:"render",value:function(){return this.state.loading?r.a.createElement(u.a,null):this.state.spotify.connected?r.a.createElement("div",null,r.a.createElement("div",{className:"mb-3"},"Connected to Spotify account: ",this.state.spotify.user),r.a.createElement("form",{method:"post",onSubmit:this.handleDelete},r.a.createElement("button",{type:"submit",className:"btn btn-danger"},"Disconnect Spotify"))):r.a.createElement("div",null,r.a.createElement("form",{method:"post",onSubmit:this.handleSubmit,action:"/api/twitch/channels/".concat(managedUser.id,"/spotify")},r.a.createElement("button",{type:"submit",className:"btn btn-success"},"Connect Spotify")))}}])&&fe(n.prototype,a),o&&fe(n,o),t}();function ge(e){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ve(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function we(e){return(we=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ee(e,t){return(Ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Se=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=we(t).call(this,e),n=!r||"object"!==ge(r)&&"function"!=typeof r?je(a):r,Oe(je(je(n)),"handleSubmit",function(){n.setState({connecting:!0})}),Oe(je(je(n)),"handleDelete",function(e){e.preventDefault(),n.setState({deleting:!0}),s.a.delete("/api/twitch/channels/".concat(managedUser.id,"/discord")).then(function(e){n.setState({discord:{},deleting:!1})})}),n.state={loading:!0,discord:{},connecting:!1,deleting:!1},n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ee(e,t)}(t,r.a.Component),n=t,(a=[{key:"componentDidMount",value:function(){Object(i.b)("Discord"),this.getStatus()}},{key:"getStatus",value:function(){var e=this;this.setState({loading:!0}),s.a.get("/api/twitch/channels/".concat(managedUser.id,"/discord")).then(function(t){e.setState({discord:t.data,loading:!1})})}},{key:"render",value:function(){return this.state.loading?r.a.createElement(u.a,null):this.state.discord.connected?r.a.createElement("div",null,r.a.createElement("div",{className:"mb-3"},"Connected to Discord server: ",this.state.discord.name),r.a.createElement("form",{method:"post",onSubmit:this.handleDelete},r.a.createElement("button",{type:"submit",className:"btn btn-danger"},"Disconnect from Discord"))):r.a.createElement("div",null,r.a.createElement("form",{method:"post",onSubmit:this.handleSubmit,action:"/api/twitch/channels/".concat(managedUser.id,"/discord")},r.a.createElement("button",{type:"submit",className:"btn btn-success"},"Connect Discord")))}}])&&ve(n.prototype,a),o&&ve(n,o),t}();function _e(e){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Te=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,r=Ne(t).call(this,e),n=!r||"object"!==_e(r)&&"function"!=typeof r?Pe(a):r,xe(Pe(Pe(n)),"handleNewEvent",function(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;n.state.newAdmin[e.target.name]=t,n.setState({newAdmin:n.state.newAdmin})}),xe(Pe(Pe(n)),"handleNewSubmit",function(e){e.preventDefault(),s.a.post("/api/twitch/channels/".concat(managedUser.id,"/admins"),n.state.newAdmin).then(function(e){n.setState({newAdmin:{user:"",level:1}}),n.getAdmins()}).catch(function(e){alert(e.response.data.message)})}),xe(Pe(Pe(n)),"handleDelete",function(e){confirm("Delete ".concat(e.name,"?"))&&s.a.delete("/api/twitch/channels/".concat(managedUser.id,"/admins/").concat(e.id)).then(function(e){n.getAdmins()}).catch(function(e){alert(e.response.data.message)})}),xe(Pe(Pe(n)),"handleChangeLevel",function(e,t){s.a.put("/api/twitch/channels/".concat(managedUser.id,"/admins/").concat(t.id),{level:e.target.value}).then(function(e){n.getAdmins()}).catch(function(e){alert(e.response.data.message)})}),n.state={admins:[],loading:!0,newAdmin:{user:"",level:1}},n.levels=[{name:"Control commands",level:1},{name:"Full control",level:3}],n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}(t,r.a.Component),n=t,(a=[{key:"componentDidMount",value:function(){Object(i.b)("Admins"),this.getAdmins()}},{key:"getAdmins",value:function(){var e=this;s.a.get("/api/twitch/channels/".concat(managedUser.id,"/admins")).then(function(t){e.setState({admins:t.data,loading:!1})})}},{key:"renderNewAdmin",value:function(){return r.a.createElement("form",{className:"form-inline",onSubmit:this.handleNewSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control mr-2",name:"user",placeholder:"User",value:this.state.newAdmin.user,onChange:this.handleNewEvent})),r.a.createElement("select",{name:"level",className:"form-control mr-2",value:this.state.newAdmin.level,onChange:this.handleNewEvent},this.levels.map(function(e){return r.a.createElement("option",{key:e.level,value:e.level},e.name)})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Create"))}},{key:"render",value:function(){var e=this;return this.state.loading?r.a.createElement(u.a,null):r.a.createElement("div",null,r.a.createElement("div",{className:"d-flex mb-4"},this.renderNewAdmin()),r.a.createElement("table",{style:{maxWidth:"500px"},className:"table table-dark table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"User"),r.a.createElement("th",{width:"250px"},"Level"),r.a.createElement("th",{width:"1px"}," "))),r.a.createElement("tbody",null,this.state.admins.map(function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",{className:"align-middle"},t.name),r.a.createElement("td",null,r.a.createElement("select",{name:"level",className:"form-control",value:t.level,onChange:function(n){e.handleChangeLevel(n,t)}},e.levels.map(function(e){return r.a.createElement("option",{key:e.level,value:e.level},e.name)}))),r.a.createElement("td",{className:"text-right align-middle"},r.a.createElement("i",{className:"material-icons clickable",title:"Delete admin",onClick:function(){e.handleDelete(t)}},"delete_forever")))}))))}}])&&ke(n.prototype,a),o&&ke(n,o),t}();function Ue(e){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t){return!t||"object"!==Ue(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ae(e){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Le(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Me(e,t,n){return t&&Le(e.prototype,t),n&&Le(e,n),e}function ze(e,t){return(ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ie=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=De(this,Ae(t).call(this,e)),Object(l.c)(),n.state={loading:!0,errors:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ze(e,t)}(t,r.a.Component),Me(t,[{key:"render",value:function(){return this.props.match.params.channel?this.state.loading?(this.getChannel(),r.a.createElement(u.a,{text:"LOADING"})):this.state.error?r.a.createElement("div",{className:"mt-5 ml-auto mr-auto",style:{width:"600px"}},Object(i.a)(this.state.error)):r.a.createElement("div",{id:"main-wrapper"},r.a.createElement(S,null),r.a.createElement("div",{id:"content-wrapper"},r.a.createElement(x,null),r.a.createElement("div",{id:"content"},r.a.createElement(c.a,{exact:!0,path:"/twitch/:channel/dashboard",component:Q}),r.a.createElement(c.a,{exact:!0,path:"/twitch/:channel/commands",component:ae}),r.a.createElement(c.a,{exact:!0,path:"/twitch/:channel/commands/edit/:id",component:ue}),r.a.createElement(c.a,{exact:!0,path:"/twitch/:channel/commands/new",component:ue}),r.a.createElement(c.a,{exact:!0,path:"/twitch/:channel/spotify",component:ye}),r.a.createElement(c.a,{exact:!0,path:"/twitch/:channel/discord",component:Se}),r.a.createElement(c.a,{exact:!0,path:"/twitch/:channel/admins",component:Te})))):r.a.createElement(o.a,{to:"/twitch/".concat(window.tbot.twitch_user.user,"/dashboard")})}}]),Me(t,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"getChannel",value:function(){var e=this;window.managedUser=null,s.a.get("/api/twitch/channel/".concat(this.props.match.params.channel)).then(function(t){window.managedUser=t.data,e.setState({loading:!1})}).catch(function(t){e.setState({loading:!1,error:t.response.data})})}}]),t}();t.a=Ie},3:function(e,t,n){"use strict";var a=n(19),r=n.n(a);r.a.interceptors.response.use(function(e){return e},function(e){if(401==e.response.status){var t=encodeURIComponent(location.pathname+location.search);throw location.href="/twitch/login?next="+t,"Not authenticated!"}return Promise.reject(e)}),t.a=r.a},4:function(e,t,n){"use strict";(function(e){function a(e){document.title="".concat(e," | ").concat(window.tbot.name)}function r(e){a(e),document.getElementById("top-title").innerHTML=e}function o(t){return t?t.errors?e.createElement("div",{className:"alert alert-danger",role:"alert"},e.createElement("div",{className:"mb-2"},e.createElement("b",null,"Error:")," ",t.message),t.errors.map(function(t){return e.createElement("div",{key:t.field},e.createElement("b",null,t.field,":")," ",t.message)})):e.createElement("div",{className:"alert alert-danger",role:"alert"},e.createElement("div",null,e.createElement("b",null,"Error:")," ",t.message)):null}n.d(t,"c",function(){return a}),n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o})}).call(this,n(0))},5:function(e,t,n){"use strict";(function(e){t.a=function(t){return e.createElement("div",{className:"d-flex flex-column text-center"},e.createElement("div",null,e.createElement("div",{className:"spinner-grow text-primary",role:"status",style:{width:"5rem",height:"5rem"}},e.createElement("span",{className:"sr-only"},"Loading..."))),e.createElement("div",{className:"mt-2"},e.createElement("h1",null,t.text)))}}).call(this,n(0))},6:function(e,t,n){"use strict";function a(){return null!==tbot.twitch_user}function r(){if(!a()){var e=encodeURIComponent(location.pathname+location.search);throw location.href="/twitch/login?next="+e,"Not authenticated!"}}function o(e){switch(e){case 0:return"Everyone";case 1:return"Sub";case 2:return"VIP";case 7:return"Mod";case 8:return"Admin";case 9:return"Broadcaster";default:return"Unknown user level"}}function c(e){switch(e){case 0:return"Always";case 1:return"Online";case 2:return"Offline";default:return"Unknown enabled when level"}}n.d(t,"b",function(){return a}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"a",function(){return c})}});
//# sourceMappingURL=main.js.map